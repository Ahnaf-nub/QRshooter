<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shooter Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
            color: white;
        }

        canvas {
            display: block;
        }
    </style>
</head>

<body>
    <canvas></canvas>
    <script>
        const c = document.querySelector('canvas').getContext('2d');
        const W = window.innerWidth, H = window.innerHeight;
        c.canvas.width = W; c.canvas.height = H;

        let score = 0, enemies = [], projectiles = [], player = { x: W / 2, y: H / 2, r: 10 };

        const spawnEnemy = () => {
            const r = Math.random() * 20 + 10;
            const x = Math.random() < 0.5 ? -r : W + r;
            const y = Math.random() * H;
            const angle = Math.atan2(player.y - y, player.x - x);
            const color = `hsl(${Math.random() * 360}, 50%, 50%)`;
            enemies.push({ x, y, r, vx: Math.cos(angle), vy: Math.sin(angle), color });
        };

        const draw = () => {
            c.fillStyle = 'rgba(0,0,0,0.2)';
            c.fillRect(0, 0, W, H);
            c.fillStyle = 'white';
            c.beginPath();
            c.arc(player.x, player.y, player.r, 0, Math.PI * 2);
            c.fill();

            projectiles.forEach((p, i) => {
                p.x += p.vx * 5; p.y += p.vy * 5;
                c.beginPath();
                c.arc(p.x, p.y, 5, 0, Math.PI * 2);
                c.fill();
                if (p.x < 0 || p.y < 0 || p.x > W || p.y > H) projectiles.splice(i, 1);
            });

            enemies.forEach((e, ei) => {
                e.x += e.vx * 2; e.y += e.vy * 2;
                c.beginPath();
                c.arc(e.x, e.y, e.r, 0, Math.PI * 2);
                c.fillStyle = e.color;
                c.fill();

                const distToPlayer = Math.hypot(player.x - e.x, player.y - e.y);
                if (distToPlayer - e.r - player.r < 1) alert(`Game Over! Score: ${score}`) || location.reload();

                projectiles.forEach((p, pi) => {
                    if (Math.hypot(p.x - e.x, p.y - e.y) - e.r - 5 < 1) {
                        enemies.splice(ei, 1);
                        projectiles.splice(pi, 1);
                        score++;
                    }
                });
            });

            requestAnimationFrame(draw);
        };

        window.onclick = (e) => {
            const angle = Math.atan2(e.clientY - player.y, e.clientX - player.x);
            projectiles.push({ x: player.x, y: player.y, vx: Math.cos(angle), vy: Math.sin(angle) });
        };

        setInterval(spawnEnemy, 1000);
        draw();
    </script>
</body>

</html>